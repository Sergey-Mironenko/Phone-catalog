(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{16:function(e,t,c){},17:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var s=c(7),a=c.n(s),i=c(5),l=c(1),n=c.n(l);const o=()=>{const[e,t]=Object(i.d)();return{updateSearch:c=>{Object.entries(c).forEach((c=>{let[s,a]=c;null===a?e.delete(s):Array.isArray(a)?(e.delete(s),a.forEach((t=>{e.append(s,String(t))}))):e.set(s,a),t(e)}))},searchParams:e}};function d(e,t){const[c,s]=Object(l.useState)((()=>{const c=localStorage.getItem(e);if(null===c)return t;try{return JSON.parse(c)}catch{return t}}));return[c,t=>{localStorage.setItem(e,JSON.stringify(t)),s(t)}]}let r=function(e){return e.toBuy="toBuy",e.favourites="favourites",e.product="product",e}({});var j=c(0);const _=n.a.createContext({chosenProducts:[],setChosenProducts:()=>{},productsToBuy:[],setProductsToBuy:()=>{},loadingItem:"",setLoadingItem:()=>{}}),b=e=>{let{children:t}=e;const[c,s]=d(r.favourites,[]),[a,i]=d(r.toBuy,[]),[n,o]=Object(l.useState)(""),b={chosenProducts:c,setChosenProducts:s,productsToBuy:a,setProductsToBuy:i,loadingItem:n,setLoadingItem:o};return Object(j.jsx)(_.Provider,{value:b,children:t})};var u=c(3),h=c(8),m=c(4),p=c.n(m);let O=function(e){return e.page="page",e.perPage="perPage",e.sort="sort",e.query="query",e}({});const x=()=>{const{chosenProducts:e,productsToBuy:t}=Object(l.useContext)(_),{pathname:c}=Object(u.n)(),{updateSearch:s}=o(),[a]=Object(i.d)(),[n,d]=Object(l.useState)(""),r=a.get(O.query)||"",b=Object(h.debounce)((e=>{e.target.value?s({query:e.target.value}):s({query:null})}),1e3),m=Object(l.useCallback)(b,[c]);return Object(l.useEffect)((()=>{d(r||"")}),[r]),Object(j.jsxs)("header",{className:"header",id:"header",children:[Object(j.jsxs)("nav",{className:"header__nav",children:[Object(j.jsxs)("ul",{className:"header__list",children:[Object(j.jsx)("li",{children:Object(j.jsx)(i.c,{className:"header__link",to:"/#",children:Object(j.jsx)("div",{className:"header__image"})})}),Object(j.jsx)("li",{children:Object(j.jsx)(i.c,{className:e=>{let{isActive:t}=e;return p()("header__link",{"header__link--active":t})},to:"/",children:"HOME"})}),Object(j.jsx)("li",{children:Object(j.jsx)(i.c,{className:e=>{let{isActive:t}=e;return p()("header__link",{"header__link--active":t})},to:"/phones",children:"PHONES"})}),Object(j.jsx)("li",{children:Object(j.jsx)(i.c,{className:e=>{let{isActive:t}=e;return p()("header__link",{"header__link--active":t})},to:"/tablets",children:"TABLETS"})}),Object(j.jsx)("li",{children:Object(j.jsx)(i.c,{className:e=>{let{isActive:t}=e;return p()("header__link",{"header__link--active":t})},to:"/accessories",children:"ACCESSORIES"})})]}),Object(j.jsxs)("div",{className:"header__container",children:[Object(j.jsx)("input",{className:p()("header__filter",{"header__filter--active":""!==c.slice(1)&&3!==c.split("/").length}),type:"text",placeholder:"Search in ".concat(c.split("/")[1],"..."),disabled:""===c.slice(1),value:n,onChange:e=>{(e=>{d(e.target.value)})(e),m(e)}}),Object(j.jsxs)(i.c,{className:e=>{let{isActive:t}=e;return p()("header__button header__favourites",{"header__favourites--active":t})},to:"/favourites",children:[Object(j.jsx)("div",{className:"header__stroke"}),e.length>0&&Object(j.jsx)("div",{className:"header__circle",children:e.length})]}),Object(j.jsxs)(i.c,{className:e=>{let{isActive:t}=e;return p()("header__button header__cart",{"header__cart--active":t})},to:"/cart",children:[Object(j.jsx)("div",{className:"header__bag"}),t.length>0&&Object(j.jsx)("div",{className:"header__circle",children:t.length})]})]})]}),Object(j.jsx)("div",{className:"header__cover"})]})},v=()=>{const[e,t]=Object(l.useState)(1),c=(c,s,a)=>{t(e===s?c:e+a)};return Object(l.useEffect)((()=>{const e=setInterval((()=>{t((e=>3===e?1:e+1))}),5e3);return()=>clearTimeout(e)}),[e]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"slider slider--photos",children:[Object(j.jsx)("button",{type:"button","aria-label":"Scroll left",className:"slider__button slider__button--photos",onClick:()=>c(3,1,-1)}),Object(j.jsx)("div",{className:"slider__container",children:[1,2,3].map((t=>Object(j.jsx)("div",{className:p()("slider__photo",{"slider__photo--active":t===e})},t)))}),Object(j.jsx)("button",{type:"button","aria-label":"Scroll right",className:"slider__button slider__button--photos",onClick:()=>c(1,3,1)})]}),Object(j.jsxs)("div",{className:"slider__indicator_container",children:[Object(j.jsx)("button",{type:"button","aria-label":"Change photo",className:p()("slider__indicator",{"slider__indicator--active":1===e}),onClick:()=>t(1)}),Object(j.jsx)("button",{type:"button","aria-label":"Change photo",className:p()("slider__indicator",{"slider__indicator--active":2===e}),onClick:()=>t(2)}),Object(j.jsx)("button",{type:"button","aria-label":"Change photo",className:p()("slider__indicator",{"slider__indicator--active":3===e}),onClick:()=>t(3)})]})]})};c(16);const N=()=>Object(j.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(j.jsx)("div",{className:"Loader__content"})}),y=function(e,t,c,s,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;s.preventDefault();const l=e.find((e=>e.id===a.id));if(l){c(l.id);const s=e.filter((e=>e.id!==a.id));setTimeout((()=>{t(s),c("")}),i),console.log(s,"deleting")}else{const c=[...e,a];t(c),console.log(c,"adding")}},g=(e,t,c,s)=>{if(c.preventDefault(),!e.find((e=>e.id===s.id))){const c=[...e,{id:s.id,quantity:1,item:s}];console.log(c,"toByu"),t(c)}},f=e=>{let{product:t,favouritesTimeout:c}=e;const{chosenProducts:s,productsToBuy:a,setChosenProducts:n,setProductsToBuy:o,setLoadingItem:d}=Object(l.useContext)(_);return console.log(s),t&&Object(j.jsx)(i.b,{className:"product__link",to:"/".concat(t.type,"s/").concat(t.id),children:t&&Object(j.jsxs)("div",{className:"product",children:[Object(j.jsx)("img",{className:"product__image",src:t.imageUrl.split("phones").join("products"),alt:"".concat(t.id)}),Object(j.jsx)("h3",{className:"product__title",children:t.name}),Object(j.jsx)("div",{className:"product__price_container",children:0===t.discount?Object(j.jsx)("div",{className:"product__price",children:"$".concat(t.price)}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"product__price",children:"$".concat(t.price-t.price*t.discount/100)}),Object(j.jsx)("div",{className:"product__price product__price--old",children:"$".concat(t.price)})]})}),Object(j.jsx)("div",{className:"product__line"}),Object(j.jsxs)("div",{className:"product__info_container",children:[Object(j.jsx)("div",{className:"product__info",children:"Screen"}),Object(j.jsx)("div",{className:"product__info--value",children:t.screen||"-"})]}),Object(j.jsxs)("div",{className:"product__info_container",children:[Object(j.jsx)("div",{className:"product__info",children:"Capacity"}),Object(j.jsx)("div",{className:"product__info--value",children:t.capacity||"-"})]}),Object(j.jsxs)("div",{className:"product__info_container product__info_container--last",children:[Object(j.jsx)("div",{className:"product__info",children:"RAM"}),Object(j.jsx)("div",{className:"product__info--value",children:t.ram||"-"})]}),Object(j.jsxs)("div",{className:"product__button_container",children:[Object(j.jsx)("button",{type:"button",className:p()("product__button_add",{"product__button_add--active":a.find((e=>e.id===t.id))}),onClick:e=>g(a,o,e,t),children:a.find((e=>e.id===t.id))?"Added to cart":"Add to cart"}),Object(j.jsx)("button",{type:"button","aria-label":"favourites",className:p()("product__button_favourites",{"product__button_favourites--active":s.find((e=>e.id===t.id))}),onClick:e=>y(s,n,d,e,t,c)})]})]})})};f.defaultProps={favouritesTimeout:0};function k(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const c={method:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET"};return t&&(c.body=JSON.stringify(t),c.headers={"Content-Type":"application/json; charset=UTF-8"}),(s=300,new Promise((e=>{setTimeout(e,s)}))).then((()=>fetch("https://mate-academy.github.io/react_phone-catalog/api"+e,c))).then((e=>{if(!e.ok)throw new Error;return e.json()}));var s}const C=e=>k(e),S=()=>C("/products.json"),w=e=>{let{pathname:t,title:c,dicount:s,random:a}=e;const[i,n]=Object(l.useState)(0),[o,d]=Object(l.useState)(!1),[r,_]=Object(l.useState)(!1),[b,u]=Object(l.useState)([]),h=1188,m=272*b.length+25*(b.length-1);return Object(l.useEffect)((()=>{(async()=>{d(!0),_(!1);try{const e=await S();if(s&&!a&&u([...e].filter((e=>e.discount>0)).sort(((e,t)=>t.price-t.price*t.discount/100-(e.price-e.price*e.discount/100)))),s||a||u([...e].filter((e=>e.discount<=0)).sort(((e,t)=>t.price-e.price))),!s&&a){const t=[],c=e.length,s=[...Array(c)].map(((e,t)=>t));[...Array(c)].map((()=>s.splice(Math.floor(Math.random()*s.length),1)[0])).map((c=>t.push(e[c]))),u(t)}}catch{_(!1)}finally{d(!1)}})()}),[t]),Object(j.jsx)("div",{className:"slider slider--phones",children:Object(j.jsxs)("div",{className:"slider__content",children:[Object(j.jsxs)("div",{className:"slider__top",children:[Object(j.jsx)("h2",{className:"slider__subtitle",children:c}),Object(j.jsxs)("div",{className:"slider__button_container",children:[Object(j.jsx)("button",{type:"button","aria-label":"Left scroll",className:p()("slider__button slider__button--phones",{"slider__button--disabled":i>-1}),disabled:i>-1,onClick:()=>{n(i+h)}}),Object(j.jsx)("button",{type:"button","aria-label":"Right scroll",className:p()("slider__button slider__button--phones",{"slider__button--disabled":i-h<-m}),disabled:i-h<-m,onClick:()=>{if(1187<m){const e=i-h;e-h<=-m&&n(1187-m),n(e)}}})]})]}),o&&Object(j.jsx)(N,{}),r&&Object(j.jsx)("p",{children:"No phones"}),Object(j.jsx)("div",{className:"slider__container",children:Object(j.jsx)("div",{className:"slider__photos slider__photos--phones",style:{transform:"translate(".concat(i,"px, 0)"),transition:"transform 1.2s"},children:!o&&!r&&b.map((e=>Object(j.jsx)(f,{product:e},e.id)))})})]})})},B=()=>{const[e,t]=Object(l.useState)(0),[c,s]=Object(l.useState)(0),[a,n]=Object(l.useState)(0),o=async(e,t)=>{try{e([...await S()].filter((e=>e.type===t)).length)}catch{e(0)}};return Object(l.useEffect)((()=>{o(t,"phone"),o(s,"tablet"),o(n,"accessories")}),[]),Object(j.jsxs)("div",{className:"shopBy",children:[Object(j.jsx)("h2",{className:"shopBy__title",children:"Shop by category"}),Object(j.jsxs)("div",{className:"shopBy__content",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"shopBy__photo_container",children:Object(j.jsx)(i.b,{to:"/phones",children:Object(j.jsx)("div",{className:"shopBy__photo shopBy__photo--phones"})})}),Object(j.jsx)(i.b,{className:"shopBy__link",to:"/phones",children:"Mobile phones"}),Object(j.jsxs)("div",{className:"shopBy__text",children:[e,1===e?" model":" models"]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"shopBy__photo_container",children:Object(j.jsx)(i.b,{to:"/tablets",children:Object(j.jsx)("div",{className:"shopBy__photo shopBy__photo--tablets"})})}),Object(j.jsx)(i.b,{className:"shopBy__link",to:"/tablets",children:"Tablets"}),Object(j.jsxs)("div",{className:"shopBy__text",children:[c,1===c?" model":" models"]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"shopBy__photo_container",children:Object(j.jsx)(i.b,{to:"/accessories",children:Object(j.jsx)("div",{className:"shopBy__photo shopBy__photo--accessories"})})}),Object(j.jsx)(i.b,{className:"shopBy__link",to:"/accessories",children:"Accessories"}),Object(j.jsxs)("div",{className:"shopBy__text",children:[a,1===a?" model":" models"]})]})]})]})},T=()=>{const{pathname:e}=Object(u.n)();return Object(j.jsxs)("div",{className:"home",children:[Object(j.jsx)(v,{}),Object(j.jsx)(w,{pathname:e,title:"Hot prices",dicount:!0,random:!1}),Object(j.jsx)(B,{}),Object(j.jsx)(w,{pathname:e,title:"Brand new models",dicount:!1,random:!1})]})};let A=function(e){return e.newest="Newest",e.alphabetically="Alphabetically",e.cheapest="Cheapest",e}({});function P(e,t){const c=[];for(let s=e;s<=t;s+=1)c.push(s);return c}const q=e=>{let{productType:t}=e;return Object(j.jsx)("h2",{className:"noResults",children:"Ooops, ".concat(t," not found :(")})},E=()=>{window.scrollTo({top:0,behavior:"smooth"})},I=()=>{const{pathname:e}=Object(u.n)(),t=e.split("/");return Object(j.jsxs)("div",{className:"navigation",children:[Object(j.jsx)(i.c,{to:"/",children:Object(j.jsx)("div",{className:"navigation__icon"})}),Object(j.jsxs)("div",{className:"navigation__location",children:[Object(j.jsx)("div",{className:"navigation__arrow"}),Object(j.jsx)(i.c,{className:p()("navigation__link",{"navigation__link--active":e.slice(1)===t[1]}),to:"/".concat(t[1]),children:t[1][0].toUpperCase()+t[1].slice(1)}),void 0!==t[2]&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"navigation__arrow"}),Object(j.jsx)("div",{className:p()("navigation__link",{"navigation__link--active":e.split("/")[2]===t[2]}),children:t[2][0].toUpperCase()+t[2].slice(1)})]})]})]})},F=e=>{let{productType:t,type:c}=e;const{pathname:s}=Object(u.n)(),[a]=Object(i.d)(),[n,d]=Object(l.useState)([]),[r,_]=Object(l.useState)(8),[b,h]=Object(l.useState)(1),[m,x]=Object(l.useState)(!1),[v,y]=Object(l.useState)(!1),[g,k]=Object(l.useState)("Newest"),[C,w]=Object(l.useState)(!1),[B,T]=Object(l.useState)(!1),F=a.get(O.page)||1,L=a.get(O.perPage)||8,R=a.get(O.sort)||"newest",G=a.get("query");let M=[...n],$=0,U=[...n];const{updateSearch:D}=o(),H=e=>{h(e),E()},J=e=>{k(e),x(!1),D({sort:String(e.toLowerCase()),page:String(1)})},z=e=>{_(e),y(!1),h(1),D({page:String(1),perPage:String(e)})},Q=e=>{const t=e.target;if(t&&t.className){const{className:e}=t;"products__dropdown_item"!==e&&"products__dropdown"!==e&&(x(!1),y(!1))}};return document.body.addEventListener("click",Q),Object(l.useEffect)((()=>((async()=>{w(!0),T(!1);try{const e=await S();d([...e].filter((e=>e.type===c)))}catch{T(!1)}finally{w(!1)}})(),k(A.newest),_(8),document.body.removeEventListener("click",Q))),[s]),Object(l.useEffect)((()=>{s&&(R&&k(R[0].toUpperCase()+R.slice(1)),F&&h(Number(F)),L&&_(Number(L)),x(!1),y(!1))}),[R,F,L,s]),G&&(M=M.filter((e=>e.name.toLowerCase().includes(G.toLowerCase())))),g===A.newest&&M.sort(((e,t)=>e.age-t.age)),g===A.alphabetically&&M.sort(((e,t)=>e.name.localeCompare(t.name))),g===A.cheapest&&M.sort(((e,t)=>e.price-t.price)),$=Math.ceil(M.length/r),U=[...M].slice(r*b-r,r*b),Object(j.jsxs)("div",{className:"products",children:[Object(j.jsx)(I,{}),Object(j.jsx)("h1",{className:"products__title",children:"".concat(t)}),C&&Object(j.jsx)("div",{className:"products__amount",children:"0 models"}),!C&&!B&&Object(j.jsx)("div",{className:"products__amount",children:"".concat(n.length," models")}),C&&Object(j.jsx)(N,{}),B&&Object(j.jsx)("p",{"data-cy":"peopleLoadingError",className:"has-text-danger",children:"Something went wrong"}),!C&&!B&&M.length>0&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"products__filter_container",children:[Object(j.jsxs)("div",{className:"products__filter",children:[Object(j.jsx)("div",{className:"products__text",children:"Sort by"}),Object(j.jsx)("button",{type:"button",className:"products__dropdown",onClick:()=>{x(!m)},children:g}),Object(j.jsx)("div",{className:"products__cover"}),Object(j.jsxs)("ul",{className:p()("products__dropdown_list",{"products__dropdown_list--active":m}),children:[Object(j.jsx)("li",{className:"products__dropdown_item",children:Object(j.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:()=>J(A.newest),children:"Newest"})}),Object(j.jsx)("li",{className:"products__dropdown_item",children:Object(j.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:()=>J(A.alphabetically),children:"Alphabetically"})}),Object(j.jsx)("li",{className:"products__dropdown_item",children:Object(j.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:()=>J(A.cheapest),children:"Cheapest"})})]})]}),Object(j.jsxs)("div",{className:"products__filter",children:[Object(j.jsx)("div",{className:"products__text",children:"Items on page"}),Object(j.jsx)("button",{type:"button",className:"products__dropdown",onClick:()=>{y(!v)},children:r}),Object(j.jsx)("div",{className:"products__cover"}),Object(j.jsxs)("ul",{className:p()("products__dropdown_list",{"products__dropdown_list--active":v}),children:[Object(j.jsx)("li",{className:"products__dropdown_item",children:Object(j.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:()=>z(4),children:"4"})}),Object(j.jsx)("li",{className:"products__dropdown_item",children:Object(j.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:()=>z(8),children:"8"})}),Object(j.jsx)("li",{className:"products__dropdown_item",children:Object(j.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:()=>z(16),children:"16"})})]})]})]}),Object(j.jsx)("div",{className:"products__container",children:U.map((e=>Object(j.jsx)(f,{product:e},e.id)))}),M.length>r&&Object(j.jsxs)("div",{className:"products__page_container",children:[Object(j.jsx)("li",{className:"products__page",children:Object(j.jsx)("button",{type:"button","data-cy":"prevLink",className:p()("products__page_link",{"products__page_link--disabled":b<=1}),onClick:()=>{b>=2&&H(b-1),D({page:String(b-1)})},children:"\xab"})}),P(1,$).map((e=>Object(j.jsx)("li",{className:"products__page",children:Object(j.jsx)("button",{type:"button","data-cy":"pageLink",className:p()("products__page_link",{"products__page_link--active":b===e}),onClick:()=>{H(e),D({page:String(e)})},children:e})},e))),Object(j.jsx)("li",{className:"products__page",children:Object(j.jsx)("button",{type:"button","data-cy":"nextLink",className:p()("products__page_link",{"products__page_link--disabled":b>$-1}),onClick:()=>{b<=$-1&&H(b+1),D({page:String(b+1)})},children:"\xbb"})})]})]}),!C&&!B&&0===M.length&&Object(j.jsx)(q,{productType:t})]})},L=()=>{const e=Object(u.p)();return Object(j.jsxs)("div",{className:"goGack",children:[Object(j.jsx)("div",{className:"goGack__arrow"}),Object(j.jsx)("button",{type:"button","data-cy":"backButton","aria-label":"Go back",className:"goGack__button",onClick:()=>e(-1),children:"Back"})]})},R=e=>{let{favouritesTimeout:t}=e;const{activeProductId:c}=Object(u.r)(),s=["#f0f0f0","#000","#62849c","#96999b"],{chosenProducts:a,productsToBuy:i,setChosenProducts:n,setProductsToBuy:o,setLoadingItem:d}=Object(l.useContext)(_),{pathname:r}=Object(u.n)(),[b,h]=Object(l.useState)(!1),[m,O]=Object(l.useState)(!1),[x,v]=Object(l.useState)(null),[f,k]=Object(l.useState)(null===x||void 0===x?void 0:x.images[0]),[B,T]=Object(l.useState)(s[0]),[A,P]=Object(l.useState)(64),[E,F]=Object(l.useState)(!1),[R,G]=Object(l.useState)(null),M=r.split("/")[1],$=null===x||void 0===x?void 0:x.display.screenResolution.slice((null===x||void 0===x?void 0:x.display.screenResolution.indexOf("("))+1,(null===x||void 0===x?void 0:x.display.screenResolution.length)-1),U=null===x||void 0===x?void 0:x.display.screenResolution.slice(0,null===x||void 0===x?void 0:x.display.screenResolution.indexOf("(")),D=null===x||void 0===x?void 0:x.display.screenSize.slice(0,null===x||void 0===x?void 0:x.display.screenSize.indexOf(" ")),H=null===x||void 0===x?void 0:x.camera.primary.slice(0,null===x||void 0===x?void 0:x.camera.primary.indexOf(" ")),J=e=>null===e||void 0===e?void 0:e.split("phones").join("products"),z=async()=>{h(!0),O(!1);try{if(c){const t=await(e=c,C("/products/".concat(e,".json"))),s=await S();G(s.find((e=>e.id===c))||null),v(t),k(J(t.images[0]))}}catch(t){O(!0)}finally{h(!1)}var e};return Object(l.useEffect)((()=>{z()}),[r]),Object(j.jsxs)("div",{className:"details",children:[b&&Object(j.jsx)(N,{}),(m||!b&&!m&&!R)&&Object(j.jsx)(q,{productType:"".concat(M.slice(0,M.length-1))}),!b&&!m&&R&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(I,{}),Object(j.jsx)(L,{}),Object(j.jsx)("h1",{className:"details__title",children:null===R||void 0===R?void 0:R.name}),Object(j.jsxs)("div",{className:"details__product",children:[Object(j.jsx)("div",{className:"details__photo_container",children:null===x||void 0===x?void 0:x.images.map((e=>Object(j.jsx)("button",{type:"button","aria-label":"image",className:p()("details__small_photo",{"details__small_photo--active":J(e)===f}),style:{backgroundImage:"url(".concat(J(e),")")},onClick:()=>{k(J(e))}},e)))}),Object(j.jsx)("button",{type:"button","aria-label":"big image",className:p()("details__photo",{"details__photo--active":E}),style:{backgroundImage:"url(".concat(f,")")},onClick:()=>F(!E)}),Object(j.jsxs)("div",{className:"details__characteristics",children:[Object(j.jsx)("h6",{className:"details__subtitle",children:"Available colors"}),Object(j.jsx)("div",{className:"details__color_container",children:s.map((e=>Object(j.jsx)("button",{type:"button",className:"details__color_button","aria-label":"Change color",disabled:B===e,onClick:()=>T(e),children:Object(j.jsx)("div",{className:p()("details__color_border",{"details__color_border--active":B===e}),children:Object(j.jsx)("div",{className:"details__color",style:{backgroundColor:"".concat(e)}})})},e)))}),Object(j.jsx)("div",{className:"details__line"}),Object(j.jsx)("h6",{className:"details__subtitle",children:"Select capacity"}),Object(j.jsxs)("div",{className:"details__capacity_container",children:[Object(j.jsx)("button",{type:"button",className:"details__capacity_button",onClick:()=>{P(64)},children:Object(j.jsx)("div",{className:p()("details__capacity",{"details__capacity--active":64===A}),children:"64 GB"})}),Object(j.jsx)("button",{type:"button",className:"details__capacity_button",onClick:()=>{P(256)},children:Object(j.jsx)("div",{className:p()("details__capacity",{"details__capacity--active":256===A}),children:"256 GB"})}),Object(j.jsx)("button",{type:"button",className:"details__capacity_button",onClick:()=>{P(512)},children:Object(j.jsx)("div",{className:p()("details__capacity",{"details__capacity--active":512===A}),children:"512 GB"})})]}),Object(j.jsx)("div",{className:"details__line"}),Object(j.jsxs)("div",{className:"details__price_container",children:[0===R.discount&&Object(j.jsx)("div",{className:"details__price",children:"$".concat(R.price)}),R.price&&0!==R.discount&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"details__price",children:"$".concat(R.price-R.price*R.discount/100)}),Object(j.jsx)("div",{className:"details__price_old",children:"$".concat(R.price)})]})]}),Object(j.jsxs)("div",{className:"details__button_container",children:[Object(j.jsx)("button",{type:"button",className:p()("details__button_add",{"details__button_add--active":i.find((e=>e.id===R.id))}),onClick:e=>g(i,o,e,R),children:i.find((e=>e.id===R.id))?"Added to cart":"Add to cart"}),Object(j.jsx)("button",{type:"button","aria-label":"favourites",className:p()("details__button_favourites",{"details__button_favourites--active":a.find((e=>e.id===R.id))}),onClick:e=>y(a,n,d,e,R,t)})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"details__description_container",children:[Object(j.jsx)("div",{className:"details__description",children:"Screen"}),Object(j.jsx)("div",{className:"details__value",children:"".concat(U," ").concat(D)||"-"})]}),Object(j.jsxs)("div",{className:"details__description_container",children:[Object(j.jsx)("div",{className:"details__description",children:"Resolution"}),Object(j.jsx)("div",{className:"details__value",children:$||"-"})]}),Object(j.jsxs)("div",{className:"details__description_container",children:[Object(j.jsx)("div",{className:"details__description",children:"Processor"}),Object(j.jsx)("div",{className:"details__value",children:(null===x||void 0===x?void 0:x.hardware.cpu)||"-"})]}),Object(j.jsxs)("div",{className:"details__description_container",children:[Object(j.jsx)("div",{className:"details__description",children:"RAM"}),Object(j.jsx)("div",{className:"details__value",children:(null===x||void 0===x?void 0:x.storage.ram)||"-"})]})]})]}),Object(j.jsx)("div",{className:"details__id",children:"ID: 802390"}),Object(j.jsxs)("div",{className:"details__about",children:[Object(j.jsx)("div",{className:"details__about_title",children:"About"}),Object(j.jsx)("div",{className:"details__line"}),(null===x||void 0===x?void 0:x.additionalFeatures)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"details__about_subtitle",children:"Additional Features"}),Object(j.jsx)("p",{className:"details__about_text",children:null===x||void 0===x?void 0:x.additionalFeatures})]}),(null===x||void 0===x?void 0:x.description)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"details__about_subtitle",children:"Description"}),Object(j.jsx)("p",{className:"details__about_text",children:null===x||void 0===x?void 0:x.description})]})]}),Object(j.jsxs)("div",{className:"details__about--techSpecs",children:[Object(j.jsx)("div",{className:"details__about_title",children:"Tech specs"}),Object(j.jsx)("div",{className:"details__line"}),Object(j.jsxs)("div",{className:"details__about_specs",children:[Object(j.jsxs)("div",{className:"details__about_container",children:[Object(j.jsx)("div",{className:"details__about_spec",children:"Screen"}),Object(j.jsx)("div",{className:"details__about_value",children:"".concat(U," ").concat(D)||"-"})]}),Object(j.jsxs)("div",{className:"details__about_container",children:[Object(j.jsx)("div",{className:"details__about_spec",children:"Resolution"}),Object(j.jsx)("div",{className:"details__about_value",children:$||"-"})]}),Object(j.jsxs)("div",{className:"details__about_container",children:[Object(j.jsx)("div",{className:"details__about_spec",children:"Processor"}),Object(j.jsx)("div",{className:"details__about_value",children:(null===x||void 0===x?void 0:x.hardware.cpu)||"-"})]}),Object(j.jsxs)("div",{className:"details__about_container",children:[Object(j.jsx)("div",{className:"details__about_spec",children:"RAM"}),Object(j.jsx)("div",{className:"details__about_value",children:(null===x||void 0===x?void 0:x.storage.ram)||"-"})]}),Object(j.jsxs)("div",{className:"details__about_container",children:[Object(j.jsx)("div",{className:"details__about_spec",children:"Built in memory"}),Object(j.jsx)("div",{className:"details__about_value",children:(null===x||void 0===x?void 0:x.storage.flash)||"-"})]}),Object(j.jsxs)("div",{className:"details__about_container",children:[Object(j.jsx)("div",{className:"details__about_spec",children:"Camera"}),Object(j.jsx)("div",{className:"details__about_value",children:"".concat(H," Mp")||!1})]})]})]})]}),Object(j.jsx)(w,{pathname:r,title:"You may also like",dicount:!1,random:!0})]}),Object(j.jsx)("div",{className:p()("details__cover",{"details__cover--active":!0===E})})]})};R.defaultProps={favouritesTimeout:0};const G=()=>{const[e]=Object(i.d)(),t=e.get("query")||"",{loadingItem:c,chosenProducts:s}=Object(l.useContext)(_),[a,n]=Object(l.useState)(!1),o=s.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())));return Object(l.useEffect)((()=>{n(!0),setTimeout((()=>{n(!1)}),500)}),[]),Object(j.jsxs)("div",{className:"favourites",children:[Object(j.jsx)(I,{}),Object(j.jsx)("h1",{className:"favourites__title",children:"Favourites"}),a?Object(j.jsx)("div",{className:"favourites__amount",children:"0 models"}):Object(j.jsx)("div",{className:"favourites__amount",children:1!==o.length?"".concat(o.length," models"):"".concat(o.length," model")}),Object(j.jsx)("div",{className:"favourites__container",children:Object(j.jsxs)("div",{className:"favourites__list",children:[a&&Object(j.jsx)("div",{className:"favourites__loader_container",children:Object(j.jsx)(N,{})}),o.length>0&&!a&&o.map((e=>e.id!==c?Object(j.jsx)(f,{product:e,favouritesTimeout:1e3},e.id):Object(j.jsxs)("div",{className:"favourites__list_container",children:[Object(j.jsx)(f,{product:e},e.id),Object(j.jsx)("div",{className:"favourites__list_loader",children:Object(j.jsx)(N,{})})]}))),0===o.length&&!a&&Object(j.jsx)("h2",{className:"favourites__title favourites__title--error",children:"Favourites not found"})]})})]})},M=()=>{const{productsToBuy:e,setProductsToBuy:t,loadingItem:c,setLoadingItem:s}=Object(l.useContext)(_),[a,i]=Object(l.useState)(!1),[n,o]=Object(l.useState)(!1),d=c=>{s(c),setTimeout((()=>{const a=e.filter((e=>e.id!==c));t(a),s("")}),1e3)},r=(c,s,a)=>{const i={...a,quantity:s},l=[...e.slice(0,c),i,...e.slice(c+1)];t(l)},b=(e,t)=>e-e*t/100,u=()=>{let t=0;return e.forEach((e=>{t+=e.quantity})),t};return Object(l.useEffect)((()=>{i(!0),setTimeout((()=>{i(!1)}),500)}),[]),Object(j.jsxs)("div",{className:"cart",children:[Object(j.jsx)(L,{}),Object(j.jsx)("h1",{className:"cart__title",children:"Cart"}),a&&Object(j.jsx)("div",{className:"cart__loader_container",children:Object(j.jsx)(N,{})}),e.length>0&&!a&&Object(j.jsxs)("div",{className:"cart__container",children:[Object(j.jsx)("div",{className:"cart__products",children:e.map(((e,t)=>e.id!==c?Object(j.jsxs)("div",{className:"cart__item",children:[Object(j.jsxs)("div",{className:"cart__content",children:[Object(j.jsx)("button",{type:"button","aria-label":"Delete",className:"cart__button",onClick:()=>d(e.id)}),Object(j.jsx)("img",{className:"cart__image",src:e.item.imageUrl.split("phones").join("products"),alt:"".concat(e.item.id)}),Object(j.jsx)("h4",{className:"cart__subtitle",children:e.item.name})]}),Object(j.jsxs)("div",{className:"cart__amount",children:[Object(j.jsxs)("div",{className:"cart__quantity",children:[Object(j.jsx)("button",{type:"button","aria-label":"Remove",className:p()("cart__changeAmount cart__remove",{"cart__changeAmount--disabled":e.quantity<2}),disabled:e.quantity<2,onClick:()=>r(t,e.quantity-1,e)}),Object(j.jsx)("div",{className:"cart__number",children:e.quantity}),Object(j.jsx)("button",{type:"button","aria-label":"Add",className:p()("cart__changeAmount cart__add",{"cart__changeAmount--disabled":e.quantity>4}),disabled:e.quantity>4,onClick:()=>r(t,e.quantity+1,e)})]}),0===e.item.discount?Object(j.jsx)("div",{className:"cart__price",children:"$".concat(e.item.price)}):Object(j.jsx)("div",{className:"cart__price",children:"$".concat(b(e.item.price,e.item.discount))})]})]}):Object(j.jsxs)("div",{className:"cart__list_container",children:[Object(j.jsxs)("div",{className:"cart__item",children:[Object(j.jsxs)("div",{className:"cart__content",children:[Object(j.jsx)("button",{type:"button","aria-label":"Delete",className:"cart__button",onClick:()=>d(e.id)}),Object(j.jsx)("img",{className:"cart__image",src:e.item.imageUrl.split("phones").join("products"),alt:"".concat(e.item.id)}),Object(j.jsx)("h4",{className:"cart__subtitle",children:e.item.name})]}),Object(j.jsxs)("div",{className:"cart__amount",children:[Object(j.jsxs)("div",{className:"cart__quantity",children:[Object(j.jsx)("button",{type:"button","aria-label":"Remove",className:p()("cart__changeAmount cart__remove",{"cart__changeAmount--disabled":e.quantity<2}),disabled:e.quantity<2,onClick:()=>r(t,e.quantity-1,e)}),Object(j.jsx)("div",{className:"cart__number",children:e.quantity}),Object(j.jsx)("button",{type:"button","aria-label":"Add",className:p()("cart__changeAmount cart__add",{"cart__changeAmount--disabled":e.quantity>4}),disabled:e.quantity>4,onClick:()=>r(t,e.quantity+1,e)})]}),0===e.item.discount?Object(j.jsx)("div",{className:"cart__price",children:"$".concat(e.item.price)}):Object(j.jsx)("div",{className:"cart__price",children:"$".concat(b(e.item.price,e.item.discount))})]})]}),Object(j.jsx)("div",{className:"cart__list_loader",children:Object(j.jsx)(N,{})})]})))}),Object(j.jsxs)("div",{className:"cart__checkout",children:[Object(j.jsx)("h2",{className:"cart__totalCost",children:"$".concat((()=>{let t=0;return e.forEach((e=>{0===e.item.discount?t+=e.item.price*e.quantity:t+=b(e.item.price,e.item.discount)*e.quantity})),t})())}),Object(j.jsx)("div",{className:"cart__totalQuantity",children:"Total for ".concat(u()," ").concat(1===u()?"item":"items")}),Object(j.jsx)("div",{className:"cart__line"}),Object(j.jsx)("button",{type:"button","aria-label":"checkout",className:"cart__mainButton",onClick:()=>{o(!0),setTimeout((()=>{o(!1)}),3e3)},children:"Checkout"}),Object(j.jsx)("div",{className:p()("cart__checkout_message",{"cart__checkout_message--active":n}),children:"Sorry, this feature is not emplemented yet."})]})]}),0===e.length&&!a&&Object(j.jsx)("h2",{className:"cart__title cart__title--error",children:"Products not found"})]})},$=()=>Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsx)("div",{className:"footer__content",children:Object(j.jsx)(i.c,{to:"/#",onClick:E,children:Object(j.jsx)("div",{className:"footer__image"})})}),Object(j.jsx)("div",{className:"footer__content",children:Object(j.jsxs)("div",{className:"footer__link_container",children:[Object(j.jsx)(i.b,{to:"https://github.com/Sergey-Mironenko/Phone-catalog",className:"footer__link",target:"_blank",children:"GITHUB"}),Object(j.jsx)(i.b,{to:"/#",className:"footer__link",onClick:E,children:"CONTACTS"}),Object(j.jsx)(i.b,{to:"/#",className:"footer__link",onClick:E,children:"RIGHTS"})]})}),Object(j.jsxs)("div",{className:"footer__button_container",children:[Object(j.jsx)("div",{className:"footer__content",children:Object(j.jsx)("div",{className:"footer__button_text",children:"Back to top"})}),Object(j.jsx)("button",{type:"button","aria-label":"Scroll top",className:"footer__button",onClick:E})]})]});let U=function(e){return e.phones="Mobile Phones",e.tablets="Tablets",e.accessories="Accessories",e}({});var D=()=>Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(x,{}),Object(j.jsx)("main",{style:{flexGrow:1},children:Object(j.jsxs)(u.d,{children:[Object(j.jsx)(u.b,{path:"/",element:Object(j.jsx)(T,{})}),Object(j.jsx)(u.b,{path:"/home",element:Object(j.jsx)(u.a,{to:"/",replace:!0})}),Object(j.jsxs)(u.b,{path:"/phones",children:[Object(j.jsx)(u.b,{index:!0,element:Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(F,{productType:U.phones,type:"phone"})})}),Object(j.jsx)(u.b,{path:":activeProductId",element:Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(R,{})})})]}),Object(j.jsxs)(u.b,{path:"/tablets",children:[Object(j.jsx)(u.b,{index:!0,element:Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(F,{productType:U.tablets,type:"tablet"})})}),Object(j.jsx)(u.b,{path:":activeProductId",element:Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(R,{})})})]}),Object(j.jsxs)(u.b,{path:"/accessories",children:[Object(j.jsx)(u.b,{index:!0,element:Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(F,{productType:U.accessories,type:"accessory"})})}),Object(j.jsx)(u.b,{path:":activeProductId",element:Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(R,{})})})]}),Object(j.jsx)(u.b,{path:"/favourites",element:Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(G,{})})}),Object(j.jsx)(u.b,{path:"/cart",element:Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(M,{})})}),Object(j.jsx)(u.b,{path:"/*",element:Object(j.jsx)(q,{productType:"Page"})})]})}),Object(j.jsx)($,{})]});c(17);a.a.render(Object(j.jsx)(i.a,{children:Object(j.jsx)(b,{children:Object(j.jsx)(D,{})})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.7be187eb.chunk.js.map